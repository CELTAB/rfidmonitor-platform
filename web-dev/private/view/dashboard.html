<!--  @author Mohamad Abu Ali <mohamad@abuali.com.br> -->
<section class="content-header">
  <h1>Dashboard</h1>
    <ol class="breadcrumb" ng-show="collectors.length">
      <li>Atualização Automática <toggle-switch ng-model="dashboardRealTime" class="switch-small" on-change="checkDashboard()" on-label="Sim" off-label="Não"></toggle-switch></li>
    </ol>
</section>

<section class="content">

  <div class="row">
    <div class="col-xs-12 col-md-6 col-lg-3" ng-repeat="collector in collectors">
      <div class="box widget-user">
        <div ng-if="loadding" class="overlay">
          <i class="fa fa-refresh fa-spin"></i>
        </div>
        <div class="widget-user-header">
          <h3 class="widget-user-username">{{::collector.name | limitTo : 30}}</h3>
          <h5 class="widget-user-desc">{{::collector.description | limitTo : 100 }}</h5>
          <span class="label" ng-class="{'label-success': collector.status == 'ONLINE', 'label-danger': collector.status == 'OFFLINE', 'label-warning': collector.status == 'UNKNOWN'}">{{::collector.status}}</span>
        </div>

        <div class="box-footer">
          <div class="row">
            <h4 style="text-align: center">
              <b>Total de registros:</b> {{::collector.records.total}}
            </h4>
          </div>
          <div class="row">
            <div class="col-sm-3 border-right">
              <div class="description-block">
                <h5 class="description-header">Diário</h5>
                <span class="description-text">{{::collector.records.daily}}</span>
              </div>
            </div>
            <div class="col-sm-3 border-right">
              <div class="description-block">
                <h5 class="description-header">Semanal</h5>
                <span class="description-text">{{::collector.records.week}}</span>
              </div>
            </div>
            <div class="col-sm-3 border-right">
              <div class="description-block">
                <h5 class="description-header">Mensal</h5>
                <span class="description-text">{{::collector.records.month}}</span>
              </div>
            </div>
            <div class="col-sm-3">
              <div class="description-block">
                <h5 class="description-header">Anual</h5>
                <span class="description-text">{{::collector.records.year}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 col-md-3 col-lg-3" ng-show="dataChartCollector.length">
      <div class="box">
        <div ng-if="loadding" class="overlay">
          <i class="fa fa-refresh fa-spin"></i>
        </div>
        <div class="box-header">
          <h3 class="box-title">Total de registros por coletor</h3>
        </div>
        <div class="box-body">
          <canvas class="chart chart-doughnut" chart-data="dataChartCollector"
            chart-labels="seriesRfid" chart-legend="true" chart-options="optionsRfid" style="height:300px"></canvas>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-md-9 col-lg-9" ng-show="dataRfid.length">
      <div class="box">
        <div ng-if="loadding" class="overlay">
          <i class="fa fa-refresh fa-spin"></i>
        </div>
        <div class="box-header">
          <h3 class="box-title">Total de registros por mês do último ano</h3>
        </div>
        <div class="box-body">
          <canvas class="chart chart-line" chart-data="dataRfid" chart-labels="labelsRfid"
            chart-series="seriesRfid" chart-legend="true" chart-options="optionsRfid" style="height:325px"></canvas>
        </div>
      </div>
    </div>
  </div>

</section>
